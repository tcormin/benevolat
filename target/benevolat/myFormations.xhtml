<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:rich="http://richfaces.org/rich" xmlns:p="http://primefaces.org/rich">

<body>
<ui:composition template="/templates/template.xhtml">

    <ui:define name="title"><ui:insert name="Rich faces sample" /></ui:define>

    <ui:define name="mainContent">
    <h1>Mes formations</h1>
    <h:form>	
	<rich:accordion switchType="client">
		<rich:accordionItem header="Demandes en attente">
	   	<div style="position:relative; width:100%; height:100%; float:left;">
	   		
	   		<rich:extendedDataTable value="#{myMissionsView.missionsEnCours}"
                                var="i" id="tableEC" frozenColumns="2"
                                style="height:100%; width:100%;" selectionMode="none">         
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Titre"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormations" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:outputText value="#{i.mission.titre}"/>
	                </h:commandLink>
	            </rich:column>
	            
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Proposé par"/>
	                </f:facet>
	                <h:outputText value="#{i.mission.association.nom}"/>
	            </rich:column>
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Délai d'inscription"/>
	                </f:facet>
	                <h:outputText value="#{i.mission.delaiInscription}"/>
	            </rich:column>

 				<rich:column width="100px">
	                <f:facet name="header">
	                    <h:outputText value="Voir les détails"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormationsView" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:graphicImage value="/images/icones/view.png" styleClass="pic" align="center" alt="home" width="16px"/>
	                </h:commandLink>
	            </rich:column>
	        </rich:extendedDataTable>
	   	</div>
	   	</rich:accordionItem>
		
		<rich:accordionItem header="Agendées">
	   	<div style="position:relative; width:100%; height:100%; float:left;">

	   		<rich:extendedDataTable value="#{myMissionsView.missionsAcceptees}"
                                var="i" id="tableA" frozenColumns="2"
                                style="height:100%; width:100%;" selectionMode="none"
                                >
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Titre"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormations" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:outputText value="#{i.mission.titre}"/>
	                </h:commandLink>
	            </rich:column>
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Proposé par"/>
	                </f:facet>
	                <h:outputText value="#{i.mission.association.nom}"/>
	            </rich:column>
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Commentaire"/>
	                </f:facet>
	                <h:outputText value="#{i.commentaire}"/>
	            </rich:column>
	            <rich:column width="100px">
	                <f:facet name="header">
	                    <h:outputText value="Voir les détails"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormationsView" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:graphicImage value="/images/icones/view.png" styleClass="pic" alt="home" width="16px"/>
	                </h:commandLink>
	            </rich:column>
	        </rich:extendedDataTable>
	   	</div>
	   	</rich:accordionItem>
        
        <rich:accordionItem header="Inscriptions refusées">
	    <div style="position:relative; width:100%; height:100%; float:left;">
	   		<rich:extendedDataTable value="#{myMissionsView.missionsRefusees}"
                                var="i" id="tableR" frozenColumns="2"
                                style="height:100%; width:100%;" selectionMode="none"
                                >
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Titre"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormations" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:outputText value="#{i.mission.titre}"/>
	                </h:commandLink>
	            </rich:column>
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Proposé par"/>
	                </f:facet>
	                <h:outputText value="#{i.mission.association.nom}"/>
	            </rich:column>
	            <rich:column width="220px">
	                <f:facet name="header">
	                    <h:outputText value="Commentaire"/>
	                </f:facet>
	                <h:outputText value="#{i.commentaire}"/>
	            </rich:column>
	            <rich:column width="100px">
	                <f:facet name="header">
	                    <h:outputText value="Voir les détails"/>
	                </f:facet>
	                <h:commandLink id="cmdMyFormationsView" action="profileMission">
			            <a4j:param name="nextMission" value="#{i.mission.id}" assignTo="#{missionView.nextMission}"/>
	                	<h:graphicImage value="/images/icones/view.png" styleClass="pic" alt="home" width="16px"/>
	                </h:commandLink>
	            </rich:column>
	        </rich:extendedDataTable>
	   		
	   	</div>
	   	 </rich:accordionItem>
        </rich:accordion>
        </h:form>
    </ui:define>
    
</ui:composition>
</body>
</html>